<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Style.css">
    <link rel="icon" type="image/x-icon" href="Aspects\SWU Aspects.png">
    <title>Shop SWU Supplies</title>
    <style>
        .productContainer {
            display: flex;
            flex-direction: column;
            width: 95%;
        }

        .productRow {
            display: flex;
            align-items: center;
            width: 100%;
            max-width: 800px;
            background-color: rgba(43, 43, 43, 0.756);
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .productImage {
            flex: 0 0 100px; /* Fixed width for image */
            margin-right: 20px;
        }

        .productImage img {
            width: 100px;
            height: auto;
            border-radius: 8px;
        }

        .productDetails {
            flex: 1; /* Take up remaining space */
            margin-right: 20px;
            overflow-y: auto;
        }

        .productDetails h2 {
            font-size: 1.2em;
            margin-bottom: 5px;
            color: #c2c2c2;
        }

        .productDetails p {
            font-size: 0.9em;
            color: #666;
        }

        /* Add price styling */
        .productPrice {
            font-size: 1.5em;
            font-weight: bold;
            color: #f39c12;
            margin-bottom: 10px;
        }

        /* Quantity controls */
        .quantityControls {
            display: flex;
            align-items: center;
            flex-direction: column;
            justify-content: flex-start;
            align-self: flex-start;
        }

        .quantityControls > div {
            display: flex;
            flex-direction: row;
            align-items: center;
            align-content: center;
        }

        .quantityControls button {
            background-color: #27ae60;
            color: #fff;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 5px;
            font-size: 1.2em;
            margin: 0 5px;
        }

        .quantityControls button:hover {
            background-color: #219150;
        }

        .quantityControls input[type="number"] {
            width: 50px;
            text-align: center;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1em;
        }
        /* Responsive grid layout for smaller screens */
        @media (max-width: 600px) {
            .productContainer {
                display: flex;
                flex-direction: row;
                flex-wrap: wrap;
                gap: 10px;
            }

            .productRow {
                display: grid;
                grid-template-columns: auto 1fr auto;
                grid-template-areas: 
                    "image details controls";
                gap: 10px;
            }

            /* Adjust layout for narrower screens */
            @media (max-width: 600px) {
                .productRow {
                    grid-template-columns: 1fr;
                    grid-template-areas: 
                        "image"
                        "details"
                        "controls";
                    justify-items: center;
                    max-width: 225px;
                }
            }

            .productImage {
                grid-area: image;
                margin-right: 0;
            }

            .productDetails {
                grid-area: details;
                margin-right: 0;
                justify-items: center;
                text-align: center;
            }

            .quantityControls {
                grid-area: controls;
                justify-self: center;
                justify-items: center;

                display: flex;
                flex-direction: row;
                align-self: center;
            }
        }

        .purchaseButton {
            position: fixed;
            bottom: 20px;
            right: 20px;
            border-radius: 50%;
            background-color: #2dca6f8c;
            color: black;
            cursor: pointer;
        }
        .purchaseButton:hover {
            box-shadow: 0px 0px 5px wheat;
        }
        .purchaseButton:active {
            background-color: #239b55;
        }
    </style>
</head>

<body>
    <ul class="nav">
        <li><a href="index.html">Home</a></li>
        <li><a href="HowToPlay.html">How to Play</a></li>
        <li><a href="Aspects.html">The Aspects</a></li>
        <li><a href="DeckBuilding.html">DeckBuilding</a></li>
        <li><a href="ShoppingForm.html">Products For Sale</a></li>
    </ul>

    <div class="productContainer">
        <!-- Product 1 -->
        <div class="productRow" data-product-id="1">
            <!-- Product Image -->
            <div class="productImage">
                <img src="https://via.placeholder.com/100" alt="Product Image">
            </div>
    
            <!-- Product Details -->
            <div class="productDetails">
                <h2 class="productName">Product 1</h2>
                <p class="productDescription">Description for Product 1.</p>
            </div>
    
            <!-- Quantity Controls -->
            <div class="quantityControls">
                <p class="productPrice">$19.99</p>
                <div>
                    <button onclick="decrement(1)">-</button>
                    <input type="number" class="quantityInput" id="quantity-1" value="0" min="0">
                    <button onclick="increment(1)">+</button>
                </div>
            </div>
        </div>
    
        <!-- Product 2 -->
        <div class="productRow" data-product-id="2">
            <!-- Product Image -->
            <div class="productImage">
                <img src="https://via.placeholder.com/100" alt="Product Image">
            </div>
    
            <!-- Product Details -->
            <div class="productDetails">
                <h2 class="productName">Product 2</h2>
                <p class="productDescription">Description for Product 2.</p>
            </div>
    
            <!-- Quantity Controls -->
            <div class="quantityControls">
                <p class="productPrice">$29.99</p>
                <div>
                    <button onclick="decrement(2)">-</button>
                    <input type="number" class="quantityInput" id="quantity-2" value="0" min="0">
                    <button onclick="increment(2)">+</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Shopping cart icon -->
    <div class="purchaseButton" onclick="goToCart()">
        ðŸ›’
    </div>

    <script>
        window.onload = function() {
            alert("Note: These products are not for sale. This page is for demonstration purposes only. Any information inputted on the next page will not actually be stored or otherwised used to charge your card.")
        }

        // Increment and decrement functions take product ID as an argument
        function increment(productId) {
            let quantityInput = document.getElementById(`quantity-${productId}`);
            quantityInput.value = parseInt(quantityInput.value) + 1;
        }
    
        function decrement(productId) {
            let quantityInput = document.getElementById(`quantity-${productId}`);
            if (quantityInput.value > 0) {
                quantityInput.value = parseInt(quantityInput.value) - 1;
            }
        }
    
        // Function to gather all products data and store them in localStorage
        function goToCart() {
            const productRows = document.querySelectorAll(".productRow");
            const cartItems = [];
    
            productRows.forEach(row => {
                const productId = row.getAttribute("data-product-id");
                const productName = row.querySelector(".productName").innerText;
                const productDescription = row.querySelector(".productDescription").innerText;
                const productPrice = row.querySelector(".productPrice").innerText; // Get price
                const quantity = row.querySelector(`#quantity-${productId}`).value;
                const productImage = row.querySelector(".productImage").innerHTML;
    
                if (quantity > 0) { // Only add if quantity is greater than 0
                    cartItems.push({
                        id: productId,
                        name: productName,
                        description: productDescription,
                        price: productPrice, // Store price
                        quantity: parseInt(quantity),
                        image: productImage,
                    });
                }
            });
    
            // Store the cart items in localStorage
            localStorage.setItem('cartItems', JSON.stringify(cartItems));
    
            // Redirect to the cart page
            window.location.href = "cart.html";
        }
    </script>
    
</body>
</html>
